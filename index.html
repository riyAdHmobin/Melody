<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Melody PWA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css" />

    <!-- PWA meta -->
    <link rel="manifest" href="./assets/manifest.json">
    <meta name="theme-color" content="#000000">
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
<div class="player">
    <div class="album-art-wrapper">
        <svg class="progress-ring" width="200" height="200">
            <circle r="100" cx="100" cy="100"></circle>
        </svg>
        <img class="album-art" id="albumArt" src="" alt="Album Art" />
    </div>
    <div class="info">
        <div class="title" id="title">Loading...</div>
        <div class="artist" id="artist">...</div>
        <div class="time-display" id="timeDisplay">0:00 / 0:00</div>
    </div>
    <div class="controls">
        <div class="btn" onclick="prevTrack()">
            <i class="fa fa-backward"></i>
        </div>
        <div class="btn play-btn" id="playPauseBtn" onclick="togglePlay()">
            <i id="playPauseIcon" class="fa fa-play"></i>
        </div>
        <div class="btn" onclick="nextTrack()">
            <i class="fa fa-forward"></i>
        </div>
    </div>

    <div class="playlist">
        <h3>Playlist</h3>
        <div id="trackList"></div>
    </div>

    <div id="player"></div>
</div>

<!-- YouTube iframe API script -->
<script src="https://www.youtube.com/iframe_api"></script>
<!-- Player script -->
<script src="assets/js/player.js"></script>

<!-- Register Service Worker for PWA -->
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('Service Worker registered.', reg))
                .catch(err => console.log('Service Worker registration failed:', err));
        });
    }
</script>

</body>
</html>
